@page "/museum-details/{Id}"
@inherits MuseumEventDetailsViewModel
@using Museum.Frontend.Components.Pages.MuseumEventDetails.Components;
@using Museum.Frontend.Infrastructure

<div class="page-title" 
style="background-image: url(@PagetTitleImg); background-size: cover">
    <div class="auto-container">
        <h1>@DetailsVm?.Name</h1>
    </div>
</div>

<section class="section-padding">
    <div class="auto-container">
        <div class="row">
            <div class="col-lg-8 pe-lg-35">
                <div class="single-post">
                    <h2 class="mb_40">@DetailsVm?.Name</h2>
                    <p class="mb_20">@DetailsVm?.Description</p>
                </div>
            </div>
            <div class="col-lg-4">
                @if(DetailsVm != null)
                {
                    <WidgetComponent 
                        StartDate="@DetailsVm.StartDate.DateTime"
                                     EndDate="@(DetailsVm.EndDate.HasValue ? DetailsVm.EndDate.Value.DateTime : null)"
                                     EventTypeDefenition="@MuseumEventTypeDescriptions.GetMuseumEventTypeDescription(DetailsVm.EventType)"/>
                }
            </div>
        </div>
        @if (DetailsVm?.Photos != null && DetailsVm.Photos.Any())
        {
        <h3 class="fs_40 mb_30">Фотографии</h3>
        <div class="position-relative mb_60">
                        <div class="swiper room-gallery-slider">
                            <div class="swiper-wrapper">
                                    @foreach (var photo in DetailsVm.Photos)
                                    {
                                        <div class="swiper-slide">
                                            <img src="@Path.Combine(BaseUrl, photo.FilePath.Replace("\\", "/"))" alt="@DetailsVm">
                                        </div>
                                    }
                            </div>
                            <!-- Добавляем навигационные кнопки -->
                            <div class="swiper-button-next px-4">
                                <span><i class="icon-2"></i></span>
                            </div>
                            <div class="swiper-button-prev px-4">
                                <span><i class="icon-3"></i></span>
                            </div>

                            <!-- Добавляем пагинацию (точки) -->
                            <div class="swiper-pagination"></div>
                        </div>
                    </div>
         }
    </div>
</section>

<!-- Room -->
<section class="section-padding pt-0">
    <div class="auto-container">
        <div class="section_heading mb_55">
            <h2 class="section_heading_title_big">Похожие мероприятия</h2>
        </div>
        <div class="row">
            <div class="col-lg-4 col-md-6">
                <div class="room-1-block wow fadeInUp" data-wow-delay=".2s" data-wow-duration=".8s">
                    <div class="room-1-image hvr-img-zoom-1">
                        <img src="assets/images/resource/room-1.jpg" alt="">
                    </div>
                    <div class="room-1-content">
                        <p class="room-1-meta-info">Start from <span class="theme-color">$55.0</span>/night</p>
                        <div class="room-1-rating">
                            <i class="icon-6"></i>
                            <i class="icon-6"></i>
                            <i class="icon-6"></i>
                            <i class="icon-6"></i>
                            <i class="icon-7"></i>
                        </div>
                        <h4 class="room-1-title mb_20"><a href="room-details.html">Luxury Room</a></h4>
                        <p class="room-1-text mb_30">Mattis cras magna morb punar aenean aliquet in. Risus a arcu eget.</p>
                        <div class="link-btn"><a href="room-details.html" class="btn-1 btn-alt">Book Now <span></span></a></div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="room-1-block wow fadeInUp" data-wow-delay=".2s" data-wow-duration="1.2s">
                    <div class="room-1-image hvr-img-zoom-1">
                        <img src="assets/images/resource/room-2.jpg" alt="">
                    </div>
                    <div class="room-1-content">
                        <p class="room-1-meta-info">Start from <span class="theme-color">$55.0</span>/night</p>
                        <div class="room-1-rating">
                            <i class="icon-6"></i>
                            <i class="icon-6"></i>
                            <i class="icon-6"></i>
                            <i class="icon-6"></i>
                            <i class="icon-7"></i>
                        </div>
                        <h4 class="room-1-title mb_20"><a href="room-details.html">Delux Room</a></h4>
                        <p class="room-1-text mb_30">Mattis cras magna morb punar aenean aliquet in. Risus a arcu eget.</p>
                        <div class="link-btn"><a href="room-details.html" class="btn-1 btn-alt">Book Now <span></span></a></div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6">
                <div class="room-1-block wow fadeInUp" data-wow-delay=".2s" data-wow-duration="1.5s">
                    <div class="room-1-image hvr-img-zoom-1">
                        <img src="assets/images/resource/room-3.jpg" alt="">
                    </div>
                    <div class="room-1-content">
                        <p class="room-1-meta-info">Start from <span class="theme-color">$55.0</span>/night</p>
                        <div class="room-1-rating">
                            <i class="icon-6"></i>
                            <i class="icon-6"></i>
                            <i class="icon-6"></i>
                            <i class="icon-6"></i>
                            <i class="icon-7"></i>
                        </div>
                        <h4 class="room-1-title mb_20"><a href="room-details.html">Luxury Room</a></h4>
                        <p class="room-1-text mb_30">Mattis cras magna morb punar aenean aliquet in. Risus a arcu eget.</p>
                        <div class="link-btn"><a href="room-details.html" class="btn-1 btn-alt">Book Now <span></span></a></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
